{"version":3,"file":"js/570.0db2a3a4.js","mappings":"8OACEA,EAAAA,EAAAA,IAKQC,EAAAA,EAAA,CALDC,QAAQ,UAAQ,C,kBACrB,IAGM,EAHNC,EAAAA,EAAAA,GAGM,YADyCC,EAAAC,UAAO,WAApDC,EAAAA,EAAAA,IAA+D,U,MAAtDC,IAAKH,EAAAI,QAASC,IAAI,a,gHASjC,GACEC,IAAAA,GACE,MAAO,CACLL,SAAS,EACTG,QAAS,GAEb,EACA,aAAMG,GAEJ,MAAMC,EAAM,IAAIC,IAAIC,OAAOC,SAASC,MAG9BC,EAAY,IAAIC,gBAAgBN,EAAIO,QAGpCC,EAAcH,EAAUI,IAAI,UAC5BC,EAAcL,EAAUI,IAAI,WAE5B,KAAEX,SAAea,EAAAA,EAAWC,cAAcJ,EAAaE,GAC7D,GAAiB,cAAbZ,EAAKe,IACPC,KAAKC,UAAU,QAAS,gCACnB,CACL,MAAMC,EAAO,GACbA,EAAKC,KAAK,CAAEC,OAAQpB,EAAKA,KAAK,GAAGoB,OAAQF,KAAMlB,EAAKA,KAAK,GAAGkB,aACtDF,KAAKK,UAAUrB,EAAKA,KAAK,GAAIkB,GACnCF,KAAKrB,SAAU,CACjB,CACF,EACA2B,QAAS,CACPL,SAAAA,CAAUM,EAAMC,GACdC,IAAAA,KAAU,CACRC,SAAU,SACVH,KAAMA,EACNC,MAAOA,EACPG,mBAAmB,EACnBC,mBAAmB,GAEvB,EAEA,eAAMP,CAAUrB,EAAMkB,GACpB,MAAMW,QAAwBR,EAAAA,EAAUS,kBAAkBZ,EAAMlB,GAChEgB,KAAKlB,QAAU+B,EAEfA,EAAgBE,YAAYC,IAC1BhB,KAAKlB,QAAUkC,EACf,MAAMC,EAASjB,KAAKkB,MAAMC,UAC1BF,EAAOpC,IAAMmC,EACbC,EAAOG,MAAMC,MAAS,GAAEjC,OAAOkC,eAC/BL,EAAOG,MAAMG,OAAU,GAAEnC,OAAOoC,eAAe,GAEnD,I,QC1DJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://pure_vue/./src/views/Show-PDF.vue","webpack://pure_vue/./src/views/Show-PDF.vue?ed26"],"sourcesContent":["<template>\r\n  <v-row justify=\"center\">\r\n    <div>\r\n      <!-- ใช้ <iframe> เพื่อแสดงไฟล์ PDF -->\r\n      <iframe :src=\"base_64\" ref=\"pdfIframe\" v-if=\"preview\"></iframe>\r\n    </div>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport Swal from \"sweetalert2\";\r\nimport dataQrCode from \"../service/apiCertificate\";\r\nimport createPDF from \"@/service/apiCreatePDF\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      preview: false,\r\n      base_64: \"\",\r\n    };\r\n  },\r\n  async mounted() {\r\n    // สร้าง URL object\r\n    const url = new URL(window.location.href);\r\n\r\n    // สร้าง URLSearchParams object\r\n    const urlParams = new URLSearchParams(url.search);\r\n\r\n    // ดึงค่าจาก URLSearchParams\r\n    const param1Value = urlParams.get(\"param1\");\r\n    const param2Value = urlParams.get(\"param2\");\r\n\r\n    const { data } = await dataQrCode.getDataQrCode(param1Value, param2Value);\r\n    if (data.msg === \"not found\") {\r\n      this.showAlert(\"error\", \"Certificate Not Found !!\");\r\n    } else {\r\n      const name = [];\r\n      name.push({ prefix: data.data[0].prefix, name: data.data[0].name });\r\n      await this.createPDF(data.data[0], name);\r\n      this.preview = true;\r\n    }\r\n  },\r\n  methods: {\r\n    showAlert(icon, title) {\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: icon,\r\n        title: title,\r\n        showConfirmButton: false,\r\n        allowOutsideClick: false, // ปิดการคลิกที่พื้นหลัง\r\n      });\r\n    },\r\n\r\n    async createPDF(data, name) {\r\n      const pdfDocGenerator = await createPDF.certification_pdf(name, data);\r\n      this.base_64 = pdfDocGenerator;\r\n\r\n      pdfDocGenerator.getDataUrl((dataUrl) => {\r\n        this.base_64 = dataUrl;\r\n        const iframe = this.$refs.pdfIframe;\r\n        iframe.src = dataUrl;\r\n        iframe.style.width = `${window.innerWidth}px`;\r\n        iframe.style.height = `${window.innerHeight}px`;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./Show-PDF.vue?vue&type=template&id=31d72c34\"\nimport script from \"./Show-PDF.vue?vue&type=script&lang=js\"\nexport * from \"./Show-PDF.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_row","justify","_createElementVNode","$data","preview","_createElementBlock","src","base_64","ref","data","mounted","url","URL","window","location","href","urlParams","URLSearchParams","search","param1Value","get","param2Value","dataQrCode","getDataQrCode","msg","this","showAlert","name","push","prefix","createPDF","methods","icon","title","Swal","position","showConfirmButton","allowOutsideClick","pdfDocGenerator","certification_pdf","getDataUrl","dataUrl","iframe","$refs","pdfIframe","style","width","innerWidth","height","innerHeight","__exports__","render"],"sourceRoot":""}